<h3>Configure Source System</h3>

<form (ngSubmit)="onSubmit()" #sourceForm="ngForm">
  <!-- Eingabefeld f端r den Namen -->
  <div class="p-field">
    <label for="name">Name</label>
    <input pInputText id="name" name="name" [(ngModel)]="source.name" required />
  </div>

  <!-- Dropdown zur Auswahl der AAS -->
  <div class="p-field">
    <label for="aas">Select AAS</label>
    <p-select
      [options]="aasList"
      [(ngModel)]="selectedAasId"
      optionLabel="idShort"
      optionValue="identification.id"
      name="aasId"
      placeholder="Select an AAS"
      (ngModelChange)="onAasChange()"
    ></p-select>
  </div>

  <!-- Baumstruktur f端r Submodelle -->
  <div class="p-field" *ngIf="treeSubmodels.length > 0">
    <label>Available Submodels</label>
    <p-tree
      [value]="treeSubmodels"
      [(selection)]="selectedTreeNodes"
      selectionMode="checkbox"
      [propagateSelectionUp]="false"
      [propagateSelectionDown]="false"
      display="inline"
    ></p-tree>
  </div>

  <!-- Eingabefeld f端r den API-Schl端ssel -->
  <div class="p-field">
    <label for="apiKey">API Key (optional)</label>
    <input pInputText id="apiKey" name="apiKey" [(ngModel)]="source.apiKey" />
  </div>

  <!-- Speichern-Button -->
  <button pButton type="submit" label="Save Configuration" icon="pi pi-save"></button>
</form>
