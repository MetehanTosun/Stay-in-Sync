<!-- VFlow -->
<div id="vflow-container">
  <vflow [nodes]="nodes" [edges]="edges" [background]="{ type: 'dots' }" (click)="onCanvasClick($event)"
    (onConnect)="addEdge($event)" />
</div>

<!-- Type Incompatibility Modal -->
<div *ngIf="showTypeIncompatibilityModal" (click)="closeTypeIncompatibilityModal()">
  <!-- Modal Header -->
  <h3>
    <span>⚠️</span>
    Type Incompatibility
  </h3>

  <!-- Modal Body -->
  <p class="error-message">{{ typeIncompatibilityMessage }}</p>
  <div *ngIf="lastAttemptedConnection">
    <div>Source: <b>{{ lastAttemptedConnection!.sourceType }}</b></div>
    <div>Target: <b>{{ lastAttemptedConnection!.targetType }}</b></div>
  </div>
  <p class="error-note">These data types are not compatible.</p>

  <!-- Modal Footer -->
  <button (click)="closeTypeIncompatibilityModal()">✓ OK</button>
</div>
