<div class="node-palette-container" [ngStyle]="paletteStyle">
  <!-- Main Menu -->
  <div id="main-node-palette-menu" *ngIf="showMainNodePalette" role="menu" aria-label="Node palette main menu">
    <button class="node-palette-item" type="button" role="menuitem" (click)="selectNode(NodeType.PROVIDER)">
      Provider Node
    </button>
    <button class="node-palette-item" type="button" role="menuitem" (click)="selectLogicNodePalette()">
      Logic Node
    </button>
    <button class="node-palette-item" type="button" role="menuitem" (click)="selectNode(NodeType.CONSTANT)">
      Constant Node
    </button>
    <button class="node-palette-item" type="button" role="menuitem" (click)="selectNode(NodeType.SCHEMA)">
      Schema Node
    </button>
  </div>

  <!-- Logic Groups Sub-Palette -->
  <div id="logic-groups-menu" *ngIf="showLogicGroups" (click)="$event.stopPropagation()" role="menu" aria-label="Logic groups">
    <button *ngFor="let groupName of logicGroupKeys; trackBy: trackByGroupName" class="node-palette-item" type="button" role="menuitem" (click)="selectLogicGroup(groupName)">
      <span>{{ groupName }}</span>
    </button>
  </div>

  <!-- Logic Nodes Sub-Palette -->
  <div id="logic-group-submenu" *ngIf="showGroupOperators && selectedLogicGroup && getOperatorsForGroup(selectedLogicGroup) as ops"
       (click)="$event.stopPropagation()" role="menu" aria-label="Logic operators">
    <button *ngFor="let operator of ops; trackBy: trackByOperator" class="node-palette-item" type="button"
      role="menuitem" (click)="selectNode(NodeType.LOGIC, operator)">
      <span>{{ operator.operatorName }}</span>
      <small *ngIf="operator.description">{{ operator.description }}</small>
    </button>
  </div>
</div>
