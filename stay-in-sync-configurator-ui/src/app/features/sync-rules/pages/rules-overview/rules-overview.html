<div class="rules-overview-container">
  <div class="header-section">
    <h2>Synchronization Rules</h2>
    <button class="create-btn" (click)="openCreateDialog()">
      â• Create new Rule
    </button>
  </div>

  @if (isLoading) {
  <div class="loading-container">
    <div class="loading-spinner"></div>
    <p>Loading rules...</p>
  </div>
  } @else {
  <div class="rules-table-container">
    <table class="rules-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        @for (rule of rules; track rule.id) {
        <tr>
          <td>{{ rule.name }}</td>
          <td>
            {{ rule.status }}
          </td>
          <td>
            <div class="actions">
              <button class="action-btn edit-btn" (click)="editRule(rule.id)" title="Edit Rule">
                ğŸ“
              </button>
              <button class="action-btn delete-btn" (click)="deleteRule(rule.id)" title="Delete Rule">
                ğŸ—‘ï¸
              </button>
            </div>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  }

  <!-- Create Rule Dialog -->
  @if (showCreateDialog) {
  <div class="dialog-overlay" (click)="closeCreateDialog()">
    <div class="dialog-content" (click)="$event.stopPropagation()">
      <h3>Create new Rule</h3>

      <div class="form-group">
        <label for="ruleName">Name</label>
        <input id="ruleName" type="text" [(ngModel)]="newRule.name" placeholder="Demo Rule" class="form-input">
      </div>

      <div class="dialog-actions">
        <button class="btn-success" (click)="createRule()">
          ğŸ’¾ Save
        </button>
        <button class="btn-cancel" (click)="closeCreateDialog()">
          âŒ Cancel
        </button>
      </div>
    </div>
  </div>
  }
</div>
