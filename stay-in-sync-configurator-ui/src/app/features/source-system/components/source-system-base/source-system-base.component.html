<p-card>
  <p-toolbar>
    <div class="p-toolbar-group-left">
      <h3>Source Systems</h3>
    </div>
    <div class="p-toolbar-group-right">
      <button pButton type="button" label="Create Source System" icon="pi pi-plus" (click)="openCreate()"></button>
    </div>
  </p-toolbar>

  <p-table [value]="systems" [loading]="loading" [paginator]="true" [rows]="10" [responsiveLayout]="'scroll'">
    <ng-template pTemplate="header">
      <tr>
        <th>Name</th>
        <th>API URL</th>
        <th>Description</th>
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-system>
      <tr>
        <td>{{ system.name }}</td>
        <td>{{ system.apiUrl }}</td>
        <td>{{ system.description }}</td>
        <td>
          <button pButton type="button" icon="pi pi-pencil" class="p-button-text"></button>
          <button pButton type="button" icon="pi pi-trash" class="p-button-text"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>

  <p-message *ngIf="errorMsg" severity="error" text="{{ errorMsg }}"></p-message>
</p-card>

<!-- Create Source System Dialog -->
<app-create-source-system
  [visible]="showCreateDialog"
  (visibleChange)="onCreateDialogClose($event)"
></app-create-source-system>