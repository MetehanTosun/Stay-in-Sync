# Test configuration - use MariaDB but disable unnecessary services
quarkus.datasource.db-kind=mariadb
quarkus.datasource.username=${DB_USERNAME:root}
quarkus.datasource.password=${DB_PASSWORD:root}
quarkus.datasource.jdbc.url=jdbc:mariadb://${DB_HOST:localhost}:3306/stayinsync_core?allowPublicKeyRetrieval=true&useSSL=false&foreign_key_checks=0&autoCommit=false
quarkus.hibernate-orm.database.generation=drop-and-create

# Disable Quinoa for tests
quarkus.quinoa.enabled=false

# Disable Kubernetes for tests
quarkus.kubernetes.enabled=false

# Disable container image building for tests
quarkus.container-image.build=false

# Disable RabbitMQ for tests
quarkus.rabbitmqclient.enabled=false

# Exclude RabbitMQ beans from CDI
quarkus.arc.exclude-types=de.unistuttgart.stayinsync.core.management.rabbitmq.consumer.*,de.unistuttgart.stayinsync.core.management.rabbitmq.producer.*,de.unistuttgart.stayinsync.core.configuration.domain.handlers.sync.SyncJobEventHandler

# Use simple console logging for tests
quarkus.log.console.json.enabled=false
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
quarkus.log.level=INFO

# Test-specific database settings
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.log.format-sql=true
